{"ast":null,"code":"var _jsxFileName = \"E:\\\\SOCKET-IO-PLAY\\\\client\\\\src\\\\VideoPlayer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst host = \"http://localhost:8080\";\n\nfunction VideoPlayer() {\n  _s();\n\n  const params = useParams();\n  const [flim, SetFLim] = useState([]);\n  const videoRef = useRef();\n  const socketRef = useRef();\n  useEffect(() => {\n    socketRef.current = io.connect(host);\n\n    const FetchData = async () => {\n      await axios.get(`http://localhost:8080/media//${params.id}/data`).then(res => {\n        // console.log(res);\n        SetFLim(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    FetchData(); // socketRef.current.on(\"connect\", function (data) {\n    //   socketRef.current.emit(\"join\", \"hello from client\");\n    // });\n\n    socketRef.current.on(\"current\", function (data) {\n      videoRef.current.currentTime = data;\n    });\n    socketRef.current.on(\"playPause\", function (data) {\n      if (data === \"play\") {\n        videoRef.current.play();\n      } else if (data === \"pause\") {\n        videoRef.current.pause();\n      }\n    });\n    socketRef.current.on(\"reset\", function () {\n      videoRef.current.currentTime = 0;\n    });\n    socketRef.current.on(\"skip\", function (value) {\n      videoRef.current.currentTime += value;\n    });\n  }, [params.id]); // socket.on(\"current\", function (data) {\n  //   videoRef.current.currentTime = data;\n  // });\n\n  const handlePlayVideo = () => {\n    videoRef.current.play(); // socket.emit(\"playPause\", \"play\");\n    // socket.emit(\"current\", videoRef.current.currentTime);\n\n    socketRef.current.emit(\"playPause\", \"play\");\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\n    console.log(\"Play video\");\n  };\n\n  const handlePauseVideo = () => {\n    videoRef.current.pause();\n    socketRef.current.emit(\"playPause\", \"pause\");\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\n    console.log(\"Pause Video\");\n  };\n\n  const handleResetVideo = () => {\n    videoRef.current.currentTime = 0;\n    socketRef.current.emit(\"reset\");\n    console.log(\"Reset Video\");\n  };\n\n  const handleSkipForw = value => () => {\n    videoRef.current.currentTime += value;\n    socketRef.current.emit(\"skip\", value);\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\n    console.log(\"Skip 5s\");\n  };\n\n  const handleSkipBack = value => () => {\n    videoRef.current.currentTime += value;\n    socketRef.current.emit(\"skip\", value);\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\n    console.log(\"Skip -5s\");\n  };\n\n  function formatDur(thoigian) {\n    thoigian = Math.round(thoigian);\n    var minute = Math.floor(thoigian / 60);\n    var second = Math.floor(thoigian - minute * 60);\n    second = second < 10 ? \"0\" + second : second;\n    return minute + \":\" + second;\n  }\n\n  function CurrentTimeFunction() {\n    document.getElementById(\"currentTime\").innerHTML = formatDur(videoRef.current.currentTime);\n  }\n\n  if (!flim.name) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Kh\\xF4ng c\\xF3 phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Trang ch\\u1EE7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"T\\xEAn Phim: \", flim.tenphim, \" - \", flim.duration]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      controls: true,\n      muted: true,\n      style: {\n        height: \"500px\",\n        width: \"1000px\"\n      },\n      id: \"movie\",\n      name: \"movie\",\n      ref: videoRef,\n      onTimeUpdate: CurrentTimeFunction,\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: `http://localhost:8080/media/video/${flim.name}`,\n        type: \"video/mp4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columm\",\n      style: {\n        padding: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          id: \"currentTime\",\n          children: \"0:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"20px\",\n          padding: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"play\",\n          onClick: handlePlayVideo,\n          className: \"btn btn-primary\",\n          style: {\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \" Ph\\xE1t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"pause\",\n          onClick: handlePauseVideo,\n          className: \"btn btn-light\",\n          style: {\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"D\\u1EEBng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"fastFwd\",\n          onClick: handleSkipForw(5),\n          className: \"btn btn-warning\",\n          style: {\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \" Tua 5s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"rew\",\n          onClick: handleSkipBack(-5),\n          className: \"btn btn-info\",\n          style: {\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"V\\u1EC1 5s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"restart\",\n          onClick: handleResetVideo,\n          className: \"btn btn-danger \",\n          style: {\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VideoPlayer, \"Q6vA/CZ4qfECVDnwi9xsXdJ9f7o=\", false, function () {\n  return [useParams];\n});\n\n_c = VideoPlayer;\nexport default VideoPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"sources":["E:/SOCKET-IO-PLAY/client/src/VideoPlayer.js"],"names":["React","useEffect","useRef","useState","Link","useParams","axios","io","host","VideoPlayer","params","flim","SetFLim","videoRef","socketRef","current","connect","FetchData","get","id","then","res","data","catch","err","console","log","on","currentTime","play","pause","value","handlePlayVideo","emit","handlePauseVideo","handleResetVideo","handleSkipForw","handleSkipBack","formatDur","thoigian","Math","round","minute","floor","second","CurrentTimeFunction","document","getElementById","innerHTML","name","tenphim","duration","height","width","padding","marginBottom","margin"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst host = \"http://localhost:8080\";\r\n\r\nfunction VideoPlayer() {\r\n  const params = useParams();\r\n  const [flim, SetFLim] = useState([]);\r\n  const videoRef = useRef();\r\n  const socketRef = useRef();\r\n  useEffect(() => {\r\n    socketRef.current = io.connect(host);\r\n    const FetchData = async () => {\r\n      await axios\r\n        .get(`http://localhost:8080/media//${params.id}/data`)\r\n        .then((res) => {\r\n          // console.log(res);\r\n          SetFLim(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    FetchData();\r\n\r\n    // socketRef.current.on(\"connect\", function (data) {\r\n    //   socketRef.current.emit(\"join\", \"hello from client\");\r\n    // });\r\n    socketRef.current.on(\"current\", function (data) {\r\n      videoRef.current.currentTime = data;\r\n    });\r\n    socketRef.current.on(\"playPause\", function (data) {\r\n      if (data === \"play\") {\r\n        videoRef.current.play();\r\n      } else if (data === \"pause\") {\r\n        videoRef.current.pause();\r\n      }\r\n    });\r\n    socketRef.current.on(\"reset\", function () {\r\n      videoRef.current.currentTime = 0;\r\n    });\r\n    socketRef.current.on(\"skip\", function (value) {\r\n      videoRef.current.currentTime += value;\r\n    });\r\n  }, [params.id]);\r\n\r\n  // socket.on(\"current\", function (data) {\r\n  //   videoRef.current.currentTime = data;\r\n  // });\r\n\r\n  const handlePlayVideo = () => {\r\n    videoRef.current.play();\r\n    // socket.emit(\"playPause\", \"play\");\r\n    // socket.emit(\"current\", videoRef.current.currentTime);\r\n    socketRef.current.emit(\"playPause\", \"play\");\r\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\r\n    console.log(\"Play video\");\r\n  };\r\n  const handlePauseVideo = () => {\r\n    videoRef.current.pause();\r\n    socketRef.current.emit(\"playPause\", \"pause\");\r\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\r\n    console.log(\"Pause Video\");\r\n  };\r\n  const handleResetVideo = () => {\r\n    videoRef.current.currentTime = 0;\r\n    socketRef.current.emit(\"reset\");\r\n    console.log(\"Reset Video\");\r\n  };\r\n  const handleSkipForw = (value) => () => {\r\n    videoRef.current.currentTime += value;\r\n    socketRef.current.emit(\"skip\", value);\r\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\r\n    console.log(\"Skip 5s\");\r\n  };\r\n\r\n  const handleSkipBack = (value) => () => {\r\n    videoRef.current.currentTime += value;\r\n    socketRef.current.emit(\"skip\", value);\r\n    socketRef.current.emit(\"current\", videoRef.current.currentTime);\r\n    console.log(\"Skip -5s\");\r\n  };\r\n\r\n  function formatDur(thoigian) {\r\n    thoigian = Math.round(thoigian);\r\n    var minute = Math.floor(thoigian / 60);\r\n    var second = Math.floor(thoigian - minute * 60);\r\n    second = second < 10 ? \"0\" + second : second;\r\n    return minute + \":\" + second;\r\n  }\r\n\r\n  function CurrentTimeFunction() {\r\n    document.getElementById(\"currentTime\").innerHTML = formatDur(\r\n      videoRef.current.currentTime\r\n    );\r\n  }\r\n\r\n  if (!flim.name) {\r\n    return <div>Không có phim</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Link to=\"/\">Trang chủ</Link>\r\n      </div>\r\n      <div className=\"container\">\r\n        <h1>\r\n          Tên Phim: {flim.tenphim} - {flim.duration}\r\n        </h1>\r\n      </div>\r\n      <video\r\n        controls\r\n        muted\r\n        style={{ height: \"500px\", width: \"1000px\" }}\r\n        id=\"movie\"\r\n        name=\"movie\"\r\n        ref={videoRef}\r\n        onTimeUpdate={CurrentTimeFunction}\r\n      >\r\n        <source\r\n          src={`http://localhost:8080/media/video/${flim.name}`}\r\n          type=\"video/mp4\"\r\n        ></source>\r\n      </video>\r\n      <div className=\"columm\" style={{ padding: \"10px\" }}>\r\n        {/* Video currentTime */}\r\n        <div>\r\n          <b id=\"currentTime\">0:00</b>\r\n        </div>\r\n        {/* Video currentTime */}\r\n\r\n        <div style={{ marginBottom: \"20px\", padding: \"10px\" }}>\r\n          <button\r\n            id=\"play\"\r\n            onClick={handlePlayVideo}\r\n            className=\"btn btn-primary\"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            <b> Phát</b>\r\n          </button>\r\n          <button\r\n            id=\"pause\"\r\n            onClick={handlePauseVideo}\r\n            className=\"btn btn-light\"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            <b>Dừng</b>\r\n          </button>\r\n          <button\r\n            id=\"fastFwd\"\r\n            onClick={handleSkipForw(5)}\r\n            className=\"btn btn-warning\"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            <b> Tua 5s</b>\r\n          </button>\r\n          <button\r\n            id=\"rew\"\r\n            onClick={handleSkipBack(-5)}\r\n            className=\"btn btn-info\"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            <b>Về 5s</b>\r\n          </button>\r\n          <button\r\n            id=\"restart\"\r\n            onClick={handleResetVideo}\r\n            className=\"btn btn-danger \"\r\n            style={{ margin: \"10px\" }}\r\n          >\r\n            <b>Reset</b>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default VideoPlayer;\r\n"]},"metadata":{},"sourceType":"module"}